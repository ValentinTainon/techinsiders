{% extends ea.hasContext ? ea.templatePath('layout') : '@EasyAdmin/page/login_minimal.html.twig' %}
{% trans_default_domain ea.hasContext ? ea.i18n.translationDomain : (translation_domain is defined ? translation_domain ?? 'messages') %}

{% block body_class 'page-login' %}
{% block page_title %}
	{{ page_title is defined ? page_title|trans : (ea.hasContext ? ea.dashboardTitle|raw : '') }}
{% endblock %}

{% block head_favicon %}
	{% if favicon_path|default(false) %}
		<link rel="shortcut icon" href="{{ favicon_path }}">
	{% else %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block wrapper_wrapper %}
	{% set page_title = block('page_title') %}
	{% set _username_label = username_label is defined ? username_label|trans : 'login_page.username'|trans({}, 'EasyAdminBundle') %}
	{% set _email_label = email_label is defined ? email_label|trans : 'login_page.email'|trans({}, 'EasyAdminBundle') %}
	{% set _motivations_label = motivations_label is defined ? motivations_label|trans : 'login_page.motivations'|trans({}, 'EasyAdminBundle') %}
	{% set _sign_in_label = sign_in_label is defined ? sign_in_label|trans : 'login_register_page.sign_in'|trans({}, 'forms') %}
	{% set _sign_up_label = sign_up_label is defined ? sign_up_label|trans : 'login_register_page.sign_up'|trans({}, 'forms') %}

	{% include '@EasyAdmin/flash_messages.html.twig' %}

	<div class="login-wrapper" style="max-inline-size: 32rem;">
		<header class="main-header">
			<div id="header-logo" class="mb-4">
				{% block header_logo %}
					{% if page_title %}
						<h3 class="logo {{ page_title|length > 14 ? 'logo-long' }}">
							{{ page_title|raw }}
						</h3>
					{% endif %}
				{% endblock header_logo %}
			</div>
		</header>

		<section class="content">
			{% for flash_error in app.flashes('verify_email_error') %}
				<div class="w-100 alert alert-danger rounded mb-3" role="alert">
					{{ flash_error }}
				</div>
			{% endfor %}

			{{ form_errors(registrationForm) }}

			{{ form_start(registrationForm) }}
			<div class="form-group">
				<label class="form-control-label required" for="registration_form_username">{{ _username_label }}</label>
				<div class="form-widget">
					{{ form_widget(registrationForm.username) }}
				</div>
			</div>

			<div class="form-group">
				<label class="form-control-label required" for="registration_form_email">{{ _email_label }}</label>
				<div class="form-widget">
					{{ form_widget(registrationForm.email) }}
				</div>
			</div>

			{{ form_row(registrationForm.plainPassword) }}

			<div class="form-group">
				<label class="form-control-label required" for="registration_form_motivations">{{ _motivations_label }}</label>
				<div class="form-widget" style="block-size: 100px;">
					{{ form_widget(registrationForm.motivations) }}
				</div>
			</div>

			<button type="submit" class="btn btn-primary btn-block w-100" style="block-size: 38px;">
				{{ _sign_up_label }}
			</button>

			<div class="login form-text text-center mt-4">
				{{ 'register_page.already_registered'|trans([], 'forms') }}
				<a href="{{ path('app_login') }}">{{ _sign_in_label }}</a>
			</div>

			{{ form_end(registrationForm) }}

		</section>

		<footer class="mt-4">
			<a class="logo {{ app_name|length > 14 ? 'logo-long' }}" title="{{ app_name }}" href="{{ path('app_homepage') }}">
				{{ app_name }}
			</a>
		</footer>
	</div>
	{% block javascripts %}
		{% block importmap %}
			{{ importmap('app') }}
		{% endblock %}
	{% endblock %}
{% endblock %}
